(ns aoc-clj.2018.day12-test
  (:require [clojure.test :refer [deftest testing is]]
            [aoc-clj.2018.day12 :as d12]))

(def d12-s00-raw
  ["initial state: #..#.#..##......###...###"
   ""
   "...## => #"
   "..#.. => #"
   ".#... => #"
   ".#.#. => #"
   ".#.## => #"
   ".##.. => #"
   ".#### => #"
   "#.#.# => #"
   "#.### => #"
   "##.#. => #"
   "##.## => #"
   "###.. => #"
   "###.# => #"
   "####. => #"])

(def d12-s00
  {:state [1 0 0 1 0 1 0 0 1 1 0 0 0 0 0 0 1 1 1 0 0 0 1 1 1]
   :rules {[0 0 0 1 1] 1
           [0 0 1 0 0] 1
           [0 1 0 0 0] 1
           [0 1 0 1 0] 1
           [0 1 0 1 1] 1
           [0 1 1 0 0] 1
           [0 1 1 1 1] 1
           [1 0 1 0 1] 1
           [1 0 1 1 1] 1
           [1 1 0 1 0] 1
           [1 1 0 1 1] 1
           [1 1 1 0 0] 1
           [1 1 1 0 1] 1
           [1 1 1 1 0] 1}
   :left  0})

(deftest parse-test
  (testing "Correctly parses the input"
    (is (= d12-s00 (d12/parse d12-s00-raw)))))